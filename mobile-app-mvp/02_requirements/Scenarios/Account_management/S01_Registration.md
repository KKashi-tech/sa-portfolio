## S01 - Регистрация пользователя

**User Story**

Как пользователь, я хочу зарегистрироваться в приложении, чтобы использовать учетную запись и не терять все настройки умного дома при смене устройства.

### Примечание
- Тексты и состав соглашений должны быть получены у юристов и согласованы с ними заранее
- Требования к безопасности пароля и защите учетной записи стоит уточнить и доработать в следующем релизе
- Текст сообщений об ошибках и оформлению экрана входа необходимо согласовать с UX/UI-дизайнерами

### Критерии приёмки
- Пользователь может зарегистрироваться, указав имя пользователя, почту и пароль, а также приняв условия соглашений
- Пользователь может просмотреть текст лицензионного соглашения и политики конфиденциальности при регистрации
- Если пользователь вводит невалидные данные, отображается сообщение об ошибке и регистрация не происходит
- Если пользователь оставляет поля пустыми, отображается подсказка об этом и регистрация не происходит
- Если пользователь уже был зарегистрирован с указанной почтой, отображается сообщение об этом и регистрация недоступна

---

### Сценарий 1: Пользователь может зарегистрироваться

**Дано** новый пользователь без учетной записи открывает приложение  
**И** видит приветственный экран  
**Когда** пользователь выбирает опцию зарегистрироваться в приложении  
**И** верно вводит `<имя>`, `<адрес почты>` и `<пароль>`  
**И** принимает соглашения  
**И** завершает регистрацию  
**Тогда** создаётся новая учетная запись  
**И** происходит автоматический вход в приложение  

**Примеры**

| имя         | адрес почты        | пароль      |
|------------|-------------------|-------------|
| Иван Иванов | example@yandex.ru | p@ssword123 |
| Ann Petrova | ann@mail.ru       | my$pass1    |

---

### Сценарий 2: Просмотр соглашений

**Дано** новый пользователь выбрал опцию зарегистрироваться  
**Когда** нажимает выбирает нужное соглашение  
**Тогда** отображается текст необходимого соглашения в новом окне приложения  
**И** текст можно закрыть

---

### Структура сценария 3: Невалидные данные

**Дано** новый пользователь выбрал опцию зарегистрироваться  
**Когда** неверно заполнил одно из полей `<поле>`  
**Тогда** видит `<сообщение об ошибке>` рядом с некорректно заполненным полем  

**Примеры**

| поле | сообщение об ошибке |
|------|---------------------|
| Адрес почты | Поле заполнено неверно. Допустим только адрес в формате example@domain.ru |
| Пароль | Поле заполнено неверно. Минимальная длина пароля — 5 символов, обязательно использование цифр и спецсимволов |
| Имя | Поле заполнено неверно. Допустимы только буквы на латинице и кириллице |

И регистрация не может быть продолжена

---

### Структура сценария 4: Пустые поля

**Дано** новый пользователь выбрал опцию зарегистрироваться  
**Когда** не заполнил одно из полей `<имя>`, `<адрес почты>` и `<пароль>`  
**Тогда** видит ошибку рядом с полем:

> Поле пустое - заполните его, чтобы продолжить регистрацию

И регистрация не может быть продолжена

---

### Структура сценария 5: Почта уже зарегистрирована

**Дано** пользователь уже регистрировался с той же почтой  
**Когда** выбрал опцию зарегистрироваться  
**И** корректно заполнил все поля  
**И** указал электронную почту, с которой регистрировался ранее  
**Тогда** высвечивается ошибка:

> Пользователь с таким электронным адресом уже зарегистрирован - смените адрес или войдите в приложение
