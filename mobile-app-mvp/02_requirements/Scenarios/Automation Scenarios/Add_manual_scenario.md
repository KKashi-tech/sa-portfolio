## US: Ручной запуск сценария с запуском по расписанию

**Как пользователь**,  
я хочу запускать сценарий с запуском по расписанию вручную,  
чтобы проверить его работу или применить нужную последовательность действий в любой момент.

### Примечание
- Если сценарий имеет тип запуска «по времени», но пользователь запустил его вручную — сценарий выполняется один раз вне расписания, затем снова выполняется по расписанию.
- Нельзя запустить вручную два сценария одновременно.

### Критерии приёмки
- Авторизованный пользователь может вне расписания вручную запустить сценарий, запускаемый по расписанию.
- Если сценарий удалось запустить, но некоторые устройства из него недоступны и (или) выполняют сценарий по расписанию — отображается сообщение.
- Если сценарий не удалось запустить или выключить вручную по какой-либо причине (все устройства недоступны, нет интернета, используются другим сценарием и т.п.) — отображается ошибка.

### Сценарий 1: Авторизованный пользователь может однократно вне расписания вручную запустить сценарий, запускаемый по расписанию

**Дано**  
авторизованный пользователь находится в списке сценариев  
и в списке есть хотя бы один сценарий с запуском по расписанию

**Когда**
- пользователь выбирает `<сценарий>`
- выбирает для него одно из действий `<действие 2>`

**Тогда**
- сценарий меняет `<статус>` на "Выполняется сейчас"
- все указанные в нём устройства выполняют соответствующие действия
- пользователь видит сообщение:  
  Сценарий запущен
- по окончании выполнения сценария возвращается `<статус>`, который был у сценария до запуска вручную ("Включен" / "Отключен")

#### Примеры

| Сценарий          | Статус               | Запуск по времени                               | Действие 1                         | Действие 2        |
|-------------------|----------------------|--------------------------------------------------|------------------------------------|-------------------|
| Готовлюсь ко сну  | Включен              | Запускается в `<время запуска>`, `<дни недели>` | Отключить выполнение по времени    | Запустить вручную |
| Утренний свет     | Выполняется сейчас   | Запускается в `<время запуска>`, `<дни недели>` | Отключить выполнение по времени    | ----              |
| Рабочий свет      | Отключен             | Запускается в `<время запуска>`, `<дни недели>` | Отключить выполнение по времени    | Запустить вручную |

### Сценарий 2: Если сценарий удалось запустить, но некоторые устройства недоступны или используются сценарием по расписанию — отображается сообщение

**Дано**  
авторизованный пользователь находится в списке сценариев  
и в списке есть хотя бы один сценарий с расписанием

**Когда**
- пользователь запускает сценарий вручную
- некоторые из устройств сценария недоступны

**Тогда**
- сценарий запускается
- отображается сообщение с `<названиями>` недоступных устройств:  
  Некоторые устройства из сценария недоступны или используются другим сценарием  
  Lamp1, Лампа 2

### Сценарий 3: Если сценарий не удалось запустить или выключить вручную по какой-либо причине — отображается ошибка

**Дано**  
авторизованный пользователь находится в списке сценариев  
и в списке есть хотя бы один сценарий с расписанием

**Когда**
- пользователь запускает сценарий вручную
- все устройства сценария недоступны

**Тогда**
- сценарий не запускается
- отображается ошибка:  
  Не удалось запустить сценарий - проверьте доступность устройств или подключение к интернету и повторите еще раз
