# Сценарий 2: Временное отключение/включение сценария по расписанию

**Когда:** я временно не использую сценарий с запуском по расписанию, я хочу иметь возможность отключить его и позже снова включить, чтобы не удалять сценарий и не создавать его заново каждый раз.  

**Примечание:**  
- Только сценарии с заданным временем запуска могут быть временно отключены.  
- Отключённый сценарий не выполняется автоматически, но может запускаться вручную.  
- При включении сценария он возобновляет работу по расписанию.  
- Статус сценария не путать с кнопкой ручного включения/выключения в UI.  

**Критерии приёмки:**  
- Авторизованный пользователь может отключить и снова включить сценарий с запуском по времени.  
- Ошибка при невозможности включить или выключить сценарий отображается.  
- Если некоторые устройства недоступны при изменении статуса — отображается сообщение.  

**Сценарий 1: Отключение сценария по времени**  
- **Дано:** авторизованный пользователь находится в списке сценариев, есть хотя бы один с `<запуском по времени>` и со статусом «Включён»  
- **Когда:** выбирает `<сценарий>` и действие «Отключить выполнение по времени»  
- **Тогда:**  
  - Сценарий сохраняется со статусом «Отключён»  
  - Он больше не выполняется автоматически  

**Примеры:**  

| Сценарий | Статус | Запуск по времени | Действие 1 | Действие 2 |
|-----------|--------|-----------------|------------|------------|
| Готовлюсь ко сну | Включён | Запускается в <время>, <дни недели> | Отключить выполнение по времени | Запустить вручную |
| Утренний свет | Отключен | Запускается в <время>, <дни недели> | Включить выполнение по времени | Запустить вручную |
| Рабочий свет | Отключен | Запускается вручную | Включить выполнение по времени | Запустить вручную |

**Сценарий 2: Включение ранее отключённого сценария**  
- **Дано:** авторизованный пользователь находится в списке сценариев, есть хотя бы один сценарий с `<запуском по времени>` и со статусом «Отключён»  
- **Когда:** выбирает такой `<сценарий>` и действие «Включить выполнение по времени»  
- **Тогда:**  
  - Сценарий сохраняется со статусом «Включён»  
  - Он снова выполняется автоматически  

**Сценарий 3: Ошибка при попытке включить сценарий**  
- **Дано:** есть сценарий с запуском по времени и статусом «Отключён»  
- **Когда:** пользователь выбирает «Включить выполнение по времени» и происходит ошибка  
- **Тогда:**  
  - Сценарий остаётся «Отключён»  
  - Сообщение:  
    ```
    Не удалось включить сценарий. Повторите попытку позже.
    ```

**Сценарий 4: Ошибка при попытке отключить сценарий**  
- **Дано:** есть сценарий с запуском по времени и статусом «Включён»  
- **Когда:** выбирает действие «Отключить» и происходит ошибка  
- **Тогда:**  
  - Сценарий остаётся «Включён»  
  - Сообщение:  
    ```
    Не удалось отключить сценарий. Повторите попытку позже.
    ```

**Сценарий 5: Недоступные устройства при изменении статуса**  
- **Дано:** есть сценарий с запуском по времени и статусом «Включён»  
- **Когда:** выбирает сценарий, некоторые устройства недоступны  
- **Тогда:**  
  - Статус сценария меняется  
  - Сообщение:  
    ```
    Некоторые устройства из сценария были недоступны и не изменили статус -- проверьте их подключение к интернету: Lamp1, Лампа 2
    ```
