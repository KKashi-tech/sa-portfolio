## US: Добавление сценария включения\выключения ламп по расписанию

**Как пользователь**,  
я хочу добавлять сценарий включения\выключения определенных ламп по расписанию,  
чтобы освещение работало автоматически по заданному времени.

### Примечание
- Максимум 10 сценариев.
- В сценарий можно добавить несколько ламп и для каждой указать действие: включить или выключить.
- Нужно задать название сценария, время запуска, время окончания и дни недели, в которые он выполняется.
- Название сценария должно быть уникальным.
- Одно устройство может быть добавлено в несколько сценариев.
- Пока не предусмотрена проверка конфликтов сценариев по расписанию (в одно и то же время одно и то же устройство что-то делает для двух сценариев) при добавлении.
- В будущих релизах обработать этот кейс.
- Пока что при наложении сценариев с одними и теми же устройствами будет ошибка о том, что они недоступны (отрисовать на макете).

### Критерии приёмки
- Авторизованный пользователь может добавить сценарий автоматизации для ламп с указанием времени запуска.
- Если пользователь пытается создать сценарий с существующим названием — отображается ошибка.
- Если обязательное поле не заполнено — отображается ошибка.
- Если время окончания указано раньше времени запуска — отображается ошибка.
- Пользователь не может создать новый сценарий, если у него уже есть 10 сценариев.

### Сценарий 1: Авторизованный пользователь может добавить сценарий автоматизации для ламп с указанием времени запуска

**Дано**  
авторизованный пользователь находится в разделе редактирования сценариев в приложении  
и у пользователя добавлено хотя бы одно устройство в дом

**Когда**
- пользователь выбирает действие добавления сценария
- в окне добавления сценария указывает `<Название сценария>`
- добавляет в сценарий `<устройства>` из списка всех устройств или из определенной `<комнаты>`
- определяет `<действие>` для каждого из этих устройств
- выбирает `<время запуска>` и `<время окончания>` для сценария
- выбирает `<дни недели>`, в которые будет работать сценарий
- подтверждает свои действия

**Тогда**
- сценарий успешно добавляется и сохраняется в списке сценариев
- пользователь видит сообщение:  
  Сценарий создан и запустится `<время запуска>`, `<дни недели>`

#### Примеры

| Название сценария | Устройство                 | Комната      | Действие   |
|------------------|----------------------------|--------------|------------|
| Готовлюсь ко сну | Ночник                     | Не выбрано   | Включить   |
|                  | Лампа в люстре             | Спальня     | Выключить  |
|                  | Все устройства в комнате   | Кухня       | Выключить  |

| Время начала | Время окончания |
|-------------|-----------------|
| 23:00       | 7:00            |

**Дни недели**  
Сентябрь 2025  
пн | вт | ср | чт | пт | сб | вс  
28 | 29 | 30 | 1 | 2 | 3 | 4

### Сценарий 2: Ошибка — сценарий с таким названием уже существует

**Дано**  
авторизованный пользователь находится в разделе сценариев  
и в списке сценариев уже есть сценарий с названием `<Название сценария>`

**Когда**
- пользователь создаёт новый сценарий и вводит то же самое название
- подтверждает создание сценария

**Тогда**
- пользователь видит сообщение:  
  Сценарий с таким названием уже существует.
- сценарий не создаётся

### Сценарий 3: Ошибка — не заполнено обязательное поле

**Дано**  
авторизованный пользователь находится на экране добавления сценария

**Когда**
- пользователь не заполняет одно из обязательных полей `<Название сценария>`, `<устройства>` или `<действие>`
- подтверждает создание сценария

**Тогда**
- пользователь видит сообщение:  
  Заполните обязательные поля.
- сценарий не создаётся

### Сценарий 4: Ошибка — время окончания указано раньше времени запуска

**Дано**  
авторизованный пользователь находится на экране добавления сценария

**Когда**
- пользователь указывает время запуска 22:00
- время окончания 07:00 того же дня
- подтверждает создание сценария

**Тогда**
- пользователь видит сообщение:  
  Время окончания не может быть раньше времени запуска.
- сценарий не создаётся

### Сценарий 5: Ошибка — превышен лимит количества сценариев

**Дано**  
у пользователя уже создано 10 сценариев

**Когда**
- пользователь выбирает опцию «Добавить сценарий»
- заполняет все необходимые поля
- пытается сохранить новый сценарий

**Тогда**
- пользователь видит сообщение:  
  Вы не можете добавить больше 10 сценариев. Удалите один из существующих, чтобы добавить новый.
- сценарий не создаётся

