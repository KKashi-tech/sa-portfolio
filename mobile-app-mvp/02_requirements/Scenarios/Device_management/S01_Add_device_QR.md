# Добавление лампы Stets по QR-коду

**Как пользователь**, я хочу добавлять лампу Stets по QR-коду, чтобы не вводить данные устройства вручную.

### Примечания
- Сценарии управления списком устройств описаны в отдельных историях.
- Устройство всегда привязано к дому.
- В приложении всегда есть хотя бы один дом.
- По умолчанию устройство добавляется в текущий дом.
- Устройство может не быть привязано к комнате.

### Критерии приёмки
- Авторизованный пользователь может добавить лампу Stets по QR-коду.
- Если QR-код недействителен или устройство уже добавлено — отображается ошибка.
- Если устройство уже добавлено — отображается ошибка.
- При попытке добавить неподдерживаемое устройство — отдельная ошибка.

### Сценарий 1: Успешное добавление

**Дано** авторизованный пользователь находится в приложении  
**Когда**
- выбирает «Добавить устройство»
- сканирует корректный QR-код лампы Stets  

**Тогда**
- устройство добавляется в систему  
- система получает `<уникальный код>`, `<название модели>`, `<тип устройства>`  
- пользователь видит сообщение:  
  > Лампа успешно добавлена.  
- лампа отображается в списке устройств дома
- название лампы в списке = `<название модели>`

#### Примеры

| Тип устройства | Название модели   | Уникальный код   |
|---------------|-------------------|------------------|
| Лампа Stets   | LampStetsLP15     | MD12748920HT     |
| Лампа Stets   | LampLP12 Plus     | LP4759375LFN     |

### Сценарий 2: Если QR-код недействителен или устройство уже добавлено, отображается сообщение об ошибке

**Дано**  
авторизованный пользователь находится на экране добавления устройства

**Когда**
- сканирует QR-код, который `<недействителен>` или неисправен по какой-либо неизвестной причине

**Тогда**
- пользователь видит сообщение:
Не удалось добавить устройство: QR-код неисправен.
Попробуйте добавить устройство по уникальному коду
- устройство не добавляется в список

### Сценарий 3: Если устройство уже добавлено, отображается сообщение об ошибке

**Дано**  
авторизованный пользователь находится на экране добавления устройства

**Когда**
- сканирует QR-код, который уже был успешно отсканирован ранее  
(= устройство с таким идентификатором уже есть в приложении)

**Тогда**
- пользователь видит сообщение:
Не удалось добавить устройство: такое устройство уже есть в приложении

- устройство не добавляется в список

### Сценарий 4: При попытке добавить неподдерживаемое устройство отображается отдельная ошибка

**Дано**  
авторизованный пользователь находится на экране добавления устройства

**Когда**
- сканирует QR-код `<неподдерживаемого устройства>`

**Тогда**
- пользователь видит сообщение:
> Данное устройство не поддерживается в текущей версии приложения

- устройство не добавляется в список

#### Примеры
- розетка Stets
- любое устройство другого производителя
